var Fullstory_RS=function(e){"use strict";function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,i(o.key),o)}}function r(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var s,a=4,c=function(e){switch(e.toUpperCase()){case"INFO":a=1;break;case"DEBUG":a=2;break;case"WARN":a=3;break;default:a=4}},u=function(){var e;a<=2&&(e=console).log.apply(e,arguments)},f=function(){var e;a<=4&&(e=console).error.apply(e,arguments)},l="FULLSTORY",d="Fullstory";function p(e){return function(e){return e?"string"==typeof e?e:String(e):""}(e).match(/[A-Z\xC0-\xD6\xD8-\xDE]?[a-z\xDF-\xF6\xF8-\xFF]+|[A-Z\xC0-\xD6\xD8-\xDE]+(?![a-z\xDF-\xF6\xF8-\xFF])|\d+/g)}function y(e){return function(e){var t="";if(!e)return t;for(var n=0,o=e.length;n<o;n+=1){var r=e[n].toLowerCase();0!==n&&(r=r.substr(0,1).toUpperCase()+r.substr(1)),t+=r}return t}(p(e))}r({},d,"Fullstory"),r(s={},l,l),r(s,"Fullstory",l),r(s,"FullStory",l),r(s,"full Story",l),r(s,"Full Story",l),r(s,"Full story",l),r(s,"full story",l),r(s,"fullstory",l);var w=function(){function e(t,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n.logLevel&&c(n.logLevel),this.fs_org=t.fs_org,this.fs_debug_mode=t.fs_debug_mode,this.fs_host=t.fs_host||"fullstory.com",this.name=l,this.analytics=n;var r=null!=o?o:{};this.shouldApplyDeviceModeTransformation=r.shouldApplyDeviceModeTransformation,this.propagateEventsUntransformedOnError=r.propagateEventsUntransformedOnError,this.destinationId=r.destinationId}var i,s,a;return i=e,s=[{key:"init",value:function(){var e,t,o,r,i,s,a,c,p,y,w;u("===in init FULLSTORY==="),e=this.fs_debug_mode,t=this.fs_host,o=this.fs_org,window._fs_debug=e,window._fs_host=t,window._fs_script="edge.fullstory.com/s/fs.js",window._fs_org=o,window._fs_namespace="FS",r=window,i=document,s=window._fs_namespace,a="script",c="user",s in r?r.console&&r.console.log&&r.console.log('FullStory namespace conflict. Please set window["_fs_namespace"].'):((y=r[s]=function(e,t,n){y.q?y.q.push([e,t,n]):y._api(e,t,n)}).q=[],(p=i.createElement(a)).async=1,p.crossOrigin="anonymous",p.src="https://".concat(_fs_script),p.setAttribute("data-loader","RS_JS_SDK"),(w=i.getElementsByTagName(a)[0]).parentNode.insertBefore(p,w),y.identify=function(e,t,n){y(c,{uid:e},n),t&&y(c,t,n)},y.setUserVars=function(e,t){y(c,e,t)},y.event=function(e,t,n){y("event",{n:e,p:t},n)},y.shutdown=function(){y("rec",!1)},y.restart=function(){y("rec",!0)},y.log=function(e,t){y("log",[e,t])},y.consent=function(e){y("consent",!arguments.length||e)},y.identifyAccount=function(e,t){p="account",(t=t||{}).acctId=e,y(p,t)},y.clearUserCookie=function(){},y._w={},w="XMLHttpRequest",y._w[w]=r[w],w="fetch",y._w[w]=r[w],r[w]&&(r[w]=function(){return y._w[w].apply(this,arguments)}));var m,g=(m=this.analytics.loadOnlyIntegrations)&&(m[d]||m[l]);!0===(null==g?void 0:g.crossDomainSupport)&&(window._fs_identity=function(){if(window.localStorage){var e=window.localStorage.tata_customer_hash;if(e)return{uid:e,displayName:e}}else u("Unable to access localStorage");return null},function(){function e(e){if(window._fs_namespace)return e?window[window._fs_namespace][e]:window[window._fs_namespace];f('FullStory unavailable, window["_fs_namespace"] must be defined')}var t=g.timeout||2e3;e("shutdown")(),function(e,t,n,o){var r=0,i=64;!function s(){"function"==typeof e&&e()?t():(i=Math.min(2*i,1024),r>n&&o&&o(),r+=i,setTimeout(s,i))}()}(window._fs_identity,(function(){if("function"==typeof window._fs_identity){var t=window._fs_identity();"object"===n(t)&&"string"==typeof t.uid?(e("setUserVars")(t),e("restart")()):e("log")("error","FS.setUserVars requires an object that contains uid")}else e("log")("error",'window["_fs_identity"] function not found')}),t,e("restart"))}())}},{key:"isLoaded",value:function(){return u("in FULLSTORY isLoaded"),!!window.FS}},{key:"page",value:function(n){u("in FULLSORY page");var o=n.message,i=function(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?t(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({name:o.name},o.properties);window.FS.event("Viewed a Page",e.getFSProperties(i))}},{key:"identify",value:function(t){u("in FULLSORY identify");var n=t.message.userId,o=t.message,r=o.context,i=o.anonymousId,s=r.traits;n||(n=i),0===Object.keys(s).length&&s.constructor===Object?window.FS.identify(n):window.FS.identify(n,e.getFSProperties(s))}},{key:"track",value:function(t){u("in FULLSTORY track"),window.FS.event(t.message.event,e.getFSProperties(t.message.properties))}}],a=[{key:"getFSProperties",value:function(t){var n={};return Object.keys(t).forEach((function(o){n["displayName"===o||"email"===o?o:e.camelCaseField(o)]=t[o]})),n}},{key:"camelCaseField",value:function(e){var t=e.split("_");if(t.length>1){var n=t.pop();switch(n){case"str":case"int":case"date":case"real":case"bool":case"strs":case"ints":case"dates":case"reals":case"bools":return"".concat(y(t.join("_")),"_").concat(n)}}return y(e)}}],s&&o(i.prototype,s),a&&o(i,a),Object.defineProperty(i,"prototype",{writable:!1}),e}();return e.Fullstory=w,e}({});
//# sourceMappingURL=Fullstory.min.js.map
